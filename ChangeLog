Changelog since version 1.1.1


2002-04-17 14:35  pate

	* C4/Koha.pm: starting to move ethnicity stuff out of programs and
	into modules

2002-04-17 13:28  rangi

	* installer.pl: Submitting on behalf of Nicholas First cut (not
	functional yet) of an installer script

2002-04-16 12:49  tonnesen

	* acqui.simple/bulkmarcimport.pl: Added some comments detailing how
	MARC fields are mapped to Koha data

2002-04-16 11:00  tonnesen

	* acqui.simple/bulkmarcimport.pl: Fixed typo

2002-04-16 10:37  tonnesen

	* acqui.simple/bulkmarcimport.pl: This is my bulk MARC record
	importing tool.  Feel free to test it out, but DO NOT use it on a
	production system yet!	It needs to be more adaptable to different
	MARC implementations.
	
	Note that the script will spit out a plain text copy of the records
	being imported to STDOUT, so you will probably want to redirect to
	a file, or pipe to less.

2002-04-15 09:17  pate

	* moremember.pl: moved ethnicity fixups into C4::Koha, eventually
	to be replaced with a better (non-NZ specific) solution.

2002-04-15 09:15  pate

	* C4/Koha.pm: moved ethnicity fixing out of moremember.pl into a
	function, eventually to replace with a more configurable version
	(non-NZ specific)

2002-04-14 22:33  truth_nz

	* updatebibitem.pl, C4/Acquisitions.pm, acqui/addorder.pl:
	Acquisitions::newbiblioitem updated to be usable for new
	acqui.simple addorder.pl and updatebibitem.pl modified to use new
	newbiblioitem

2002-04-10 02:55  rangi

	* C4/Search.pm: Fixing the subject search i broke ;)

2002-04-10 00:59  rangi

	* C4/Search.pm: Working on a fix to speed up title and author
	searches

2002-04-09 22:49  truth_nz

	* C4/Acquisitions.pm: Altered newbiblio to be more generic - so can
	use with new acui.simple scripts (which are not finished yet).

2002-04-09 22:47  truth_nz

	* acqui/addorder.pl: Updates to use changed newbiblio sub in
	C4/Acquisitions.pm

2002-04-09 17:02  pate

	* misc/fines2.pl: whacked a couple of bits that Chris marked as
	okay to delete.

2002-04-09 16:30  rangi

	* misc/fines2.pl: Just added some comments for Pat (Is this a good
	way of doing it? if not let me know)

2002-04-09 15:08  pate

	* misc/: fines2.pl, fixborrower.pl: refactoring, marking spots for
	further refactoring

2002-04-08 17:16  rangi

	* memberentry.pl: Little typo, missing t in systemprefs Apart from
	that, all the patch files seem to be running happily on
	hlt.katipo.co.nz

2002-04-08 17:04  rangi

	* insertdata.pl: Just a quick little fix the sql to update a
	borrower was setting the postal address twice, instead of the
	postal, then the physical address. My little fix got overwrote by
	pat's fix so im updating now before i forget :)

2002-04-08 16:44  pate

	* insertdata.pl, koha.t, loadmodules.pl, memberentry.pl,
	modbibitem.pl, moredetail.pl, moremember.pl, request.pl, search.pl,
	testKoha.pl, C4/Koha.pm, C4/Output.pm: refactored slashifyDate
	function out of inline code, created C4/Koha.pm to hold it and
	wrote tests for it, started marking other places for potential
	refactoring.

2002-04-08 15:47  rangi

	* insertdata.pl: Script wasnt setting street address correctly

2002-04-04 19:13  rangi

	* fines.pl: Have realised misc/fines2.pl is the real fines script,
	this one can be removed so as to remove one more source of
	confusion

2002-04-04 19:09  rangi

	* admin/aqbudget.pl: Fixing up the query to pickup budget

2002-04-03 00:58  rangi

	* borrwraper.pl: Actually lives in telnet/

2002-04-03 00:44  rangi

	* acqui.simple/: addbooks.pl, addbookslccn.pl: More work on the
	addbooks scripts, committing on behalf of Roger
	
	Need testing before use in a production environment

2002-03-30 22:50  rangi

	* acqui.simple/: addbooks.pl, addbookslccn.pl: Fixed the holding
	branch insertion code. It was inserting the correct homebranch but
	was still inserting the wrong home branch

2002-03-30 18:48  rangi

	* acqui.simple/addbookslccn.pl: Fixing branches

2002-03-30 17:18  rangi

	* acqui.simple/addbooks.pl: Draws list of branches from the
	branches table now, when adding an item

2002-03-26 16:02  rangi

	* pay.pl: Shifting writeoff code back into pay.pl (redirecting to
	writeoff.pl was breaking when the borrower owes a lot of fines)

2002-03-25 21:08  finlayt

	* updater/updatedatabase: added database patchs to the
	updater/updatedatabase script
	
	changes the type of the datesent and datearrived fields in the
	branchtransfers table from date to datetime.
	
	completely re-organises the branchcategories table. As this has
	previously been unused it shouldnt effect anyone.

2002-03-21 13:24  rangi

	* showbudget.pl: Doesnt write to an include anymore

2002-03-19 07:39  tipaul

	* updater/updatedatabase2.pl: Script to apply to sample DB only. It
	makes a few modifications in the DB (indexes creation, some data
	deletion, and unused tables drop) Creates a thesaurus table from
	the bilbiosubject one

2002-03-19 07:37  tipaul

	* updater/sample_only_param_tables.sql: Sample database only for
	parameters tables

2002-03-16 18:58  rangi

	* C4/Circulation/Fines.pm: Deals with lost book charges now

2002-03-16 18:31  rangi

	* misc/fines2.pl: tidied up, less hlt specific now

2002-03-13 17:51  finlayt

	* circ/branchtransfers.pl: Changed heading to look like the rest of
	Koha

2002-03-13 17:50  finlayt

	* circ/circulation.pl: Added a heading to be consistent with rest
	of Koha

2002-03-13 17:04  finlayt

	* circ/: circulation.pl, circulation2.pl: This is the begining of a
	process of dividing up circulation.pl
	
	This script deals with the branch and printer selection stuff

2002-03-13 13:13  finlayt

	* C4/Circulation/Circ2.pm: Added a transferbook subroutine that is
	called from /circ/branchtransfers.pl
	
	It writes a new line in the branchtransfers table and changes the
	currentbranch field in items.

2002-03-13 13:07  finlayt

	* circ/branchtransfers.pl: Fixed a small problem in the <form>, not
	hidden inputs are getting passed correctly.

2002-03-12 23:46  rangi

	* search.pl: Removing reference to the FrontSearch subroutine as
	its never called

2002-03-12 23:36  rangi

	* C4/Search.pm: Tidy up, removing deprecated routines

2002-03-12 23:14  rangi

	* opac-search.pl: Deprecated searching is all handled by search.pl

2002-03-12 19:26  rangi

	* moremember.pl, C4/Reserves2.pm, C4/Search.pm: Getting Iteminfo in
	Search to only display correct reserves (mainly used on detail.pl)
	and another typo fix in moremember.pl

2002-03-12 18:46  rangi

	* moremember.pl: Typo fix (doh!)

2002-03-12 18:03  rangi

	* moremember.pl, C4/Reserves2.pm: Fix so that reserves are only
	showing for the biblioitem not the biblio on the moremembers screen

2002-03-12 13:04  finlayt

	* circ/: branchtransfers.pl, circulation.pl: 
	Branchtransfers.pl provides a form for entering barcodes and
	selecting a destination branch.
	
	New rows are entered into the branchtransfers table for each item
	"transfered".

2002-03-10 19:36  rangi

	* C4/Accounts2.pm: Fix for manual invoices

2002-03-05 12:48  tipaul

	* admin/: aqbookfund.pl, aqbudget.pl, branches.pl, categorie.pl,
	categoryitem.pl, currency.pl, itemtypes.pl, printers.pl,
	stopwords.pl, systempreferences.pl: scripts to manage parameters
	tables

2002-02-26 01:31  rangi

	* C4/Maintainance.pm, maint/catmaintain.pl: Fixed apostrophe '
	handling

2002-02-26 01:06  rangi

	* acqui/basket.pl: Fix for displaying prices

2002-02-20 13:05  rangi

	* C4/Search.pm: Making a "fix" to normal title search

2002-02-20 12:53  rangi

	* C4/Search.pm: Playing with keyword search trying to speed it up
	more

2002-02-12 13:31  rangi

	* C4/Search.pm: Fixing bug in subject searching that was causing
	subjects with ' to break the search

2002-02-12 13:07  rangi

	* C4/Acquisitions.pm, updatebibitem.pl: Fixing bug that was
	duplicating additional authors, and a bug that was breaking the
	updating classicification field

2002-02-01 10:00  tonnesen

	* acqui.simple/: marcimport.pl, processz3950queue: Changes from a
	long time ago that I don't even remember anymore.  :)

2001-12-11 18:31  rangi

	* C4/Search.pm: Added the facility to restrict a keyword search by
	dewey number

2001-11-26 18:01  rangi

	* C4/Search.pm: Fixing error in keyword search (fixing my mistake
	from yesterday)

2001-11-25 20:33  rangi

	* C4/Search.pm: Fixing a bug in keyword search was duplicating
	results

2001-11-25 18:03  rangi

	* insertdata.pl: Modify an adult with guarantees now modifies the
	guarantees also.  IE change of address effects the guarantees
	record as well

2001-11-25 16:41  rangi

	* C4/Search.pm: Added a findguarantor routine to search for the
	guarantor of a given borrower.	Probably it and findgurantees need
	to moved out to borrowers.pm

2001-11-25 14:25  rangi

	* C4/Search.pm: Author combined with Title search was not searching
	the series title field Fixed now

2001-11-25 12:17  rangi

	* C4/: Reserves2.pm, Circulation/Circ2.pm: Fixing reserve handling.
	 Mulitple copy reserves now handled correctly, and correct charges
	are being applied

2001-11-22 18:12  rangi

	* C4/Search.pm: Adding the facility to search on just dewey and
	class

2001-11-19 15:28  tonnesen

	* updater/updatedatabase: Added code to determine mysqld version
	for possibility of converting databases to MyISAM format

2001-11-19 12:29  tonnesen

	* updater/updatedatabase: Added some more tables to the database
	updater.  Modified barcode to be 20 characters long instead of 9.

2001-11-19 10:26  tonnesen

	* updater/updatedatabase: Script that will update existing
	databases, creating any new tables, adding, modifying or removing
	any fields from existing tables.
	
	This is in very early stages.  Need to go through and ascertain
	which tables and fields need to be added/modified.  Also need to
	add a "backup" before any modifications are made.  Thoughts on this
	are welcome.

2001-11-06 10:25  tonnesen

	* acqui.simple/addbooks.pl, marc/koha2marc: Minor changes

2001-11-06 10:24  tonnesen

	* marc/test: Script that I'm using to check MARC record support.

2001-11-06 10:15  tonnesen

	* C4/Catalogue.pm: Working out problems with MARC record support.

2001-11-06 10:15  tonnesen

	* acqui.simple/addbookslccn.pl: Modified version of addbooks.pl
	that uses LCCN as base identifier instead of ISBN.  Should probably
	be merged with addbooks.pl so that the user can enter either and
	ISBN _or_ and LCCN from the same form.

2001-11-06 10:13  tonnesen

	* acqui.simple/: marcimport.pl, processz3950queue: Continuing work
	on Z39.50 search tool.	Daemon now forks up to 12 processes to do
	Z39.50 searches.  Daemon will also wait to see if the user looks
	beyond the first couple of pages of results, and will download more
	results if necessary.

2001-11-02 23:29  tonnesen

	* C4/Catalogue.pm: Minor cleanups.  Needs testing.  Starting to
	think about modifying updatebiblio.pl to use this API.

2001-11-02 23:28  tonnesen

	* acqui.simple/marcimport.pl: Z39.50 now stores list of servers to
	query in a database table.

2001-11-02 13:40  tonnesen

	* acqui.simple/processz3950queue: Daemon to process the queue of
	pending Z39.50 searches.  I still need to come up with a way for
	this process to get launched.  Looks like Koha might need its first
	init script.  :)

2001-11-02 13:21  tonnesen

	* acqui.simple/marcimport.pl: Added Z39.50 searching capability,
	and MARC file uploading from workstation using HTML forms.   Z39.50
	functionality requires the YAZ toolkit.

2001-10-31 21:00  tonnesen

	* acqui.simple/marcimport.pl: Use MARC controlnumber as a unique
	identifier for MARC records, in addition to ISBN, ISSN, and LCCN.

2001-10-10 12:28  tonnesen

	* C4/Circulation/Circ2.pm: Typo in printf format string was causing
	all issues to appear in the Previous issues box and not in today's
	issues.

2001-10-10 12:27  tonnesen

	* updatebibitem.pl: Fixed bug where a biblioitem with a subclass
	but no dewey would get the subclass erased when editing the
	biblioitem.

2001-10-10 12:26  tonnesen

	* modbibitem.pl: used CGI.pm's textfield function to create the
	notes text input box.  Notes with question marks '"' in them were
	getting deleted when an item was modified.

2001-10-05 14:27  tonnesen

	* acqui.simple/marcimport.pl: Added rudimentary marc importing
	tool.  Just takes a marc record and converts to koha database. 
	Does not keep data in marc format.

2001-10-05 14:23  tonnesen

	* marc/viewmarc.pl: Removed duplicate viewmarc.pl from acqui.simple
	directory

2001-10-05 14:19  tonnesen

	* acqui.simple/: addbooks.pl, viewmarc.pl: Added simple
	acquisitions script

2001-10-05 13:13  tonnesen

	* search.pl, C4/Catalogue.pm, C4/Search.pm, marc/marcschema.sql:
	Changed search interface to allow searches on Illustrator.  This is
	apparently a common search in elementary school libraries.

2001-09-27 13:39  tonnesen

	* C4/Catalogue.pm: Tested updateItem subroutine, made some better
	checks for Subfield_IDs and Subfield_Keys when modifying MARC data
	based on changes to Koha data.

2001-09-27 12:24  tonnesen

	* C4/Catalogue.pm, marc/koha2marc: Started on updateItem
	subroutine.

2001-09-10 19:03  rangi

	* deletemem.pl: Fixing member deletion, so that it checks fines,
	issues and guarantees before deleting

2001-09-10 16:37  rangi

	* modbibitem.pl, moredetail.pl, C4/Search.pm: Fixing a glitch that
	was showing the biblio notes field where the biblioitems notes
	should have been displaying

2001-08-17 00:54  rangi

	* circ/circulation.pl: Changed the sorting of the hash of items on
	issue. To sort numerically, (so 10 comes after 2) Just a quick fix
	to get the items showing in date_due order

#Version 1.1.1
Last release before MARC support
- Mainly bugfixes. Lots of little glitches in web circulation and members
  dealt with.
- Fixed bugs in the manual accounts section

New Features.
- Courtesy of Pawel Skuza: A little script that allows multiple language
  interfaces to koha. Read the scripts/translator/translator.readme for a
  better explanation.
- Deleting members/borrowers now works


#Version 1.1.0
A Huge amount of changes, many thanks to Glen Stewart and Steve Tonnesen
-Shifted configuration variables out of Database.pm in the koha.conf (should
  live in /etc/koha.conf
- Little fix in detail.pl so that empty () dont display when an item doesnt
  have an author
- Added loadmodules.pl
  loadmodules.pl allows redirection to different modules based on systemprefs
  Added subroutine in Search.pm load systemprefs from new systempreferences
  table in database.  Initial use is to allow using my simplified acquisitions
  module in place of vendor-based acquisitions module.  Default is
  vendor-based module
- Changed moremember.pl
  Fixed so you cant renew and already renewed book, or a book that is on
  reserve(request)
- Added shelves.pl
  Start of code to implement virtual bookshelves
- Changed stats.pl
  Fixed a bug that was stopping renewals being counted
- Added circ/circulation
  Script to handle issues and returns from web
- Added tkperl/tkcirc
  Start of tkperl based circulation module
- Added C4/Bookshelves.pm
  Module to facilitate virtual bookshelves
- Changed C4/Database.pm
  Shifted configuration variables out of module
- Changed C4/Search.pm
  Added subroutine in Search.pm load systemprefs from new systempreferences
  table in database.  Initial use is to allow using my simplified acquisitions
  module in place of vendor-based acquisitions module.  Default is
  vendor-based module.
- Added C4/Circulation/Circ2.pm
  API for circulation, huge thanks to Steve Tonnesen tonnesen@cmsd.bc.ca for
  this.
  
- Plus lots of little html changes


#Version 1.07
Lots of changes
Included Glen Stewarts (glen_stewart@associate.com)
koha.sql generator script, for importing data into koha (koha-sql-generator)
Additions:
- currency.pl - Script to allow for exchange rates to be modified
- tidyaccounts.pl - Script to tidy up a borrowers account (still needs work)
- catmaintain.pl - Script to do catalogue maintenance,
  only does subject maintenance at the moment
  nessecitated a change in index.html

Changes
- Changed the Statistics table.
  Use databasepatch1.06-1.07 to implement
  mysql -uusername -ppassword databasename < databasepatch1.06-1.07
- Moredetail.pl
  Added link to acqusition data from accession date
- Search.pl
  Fixed dewey search, was only returning first screen of results
- Stats.pl
  New daily stats report, runs much faster
- C4/Acquisitions.pm
  Fixing bug in modify order, allowing changing of bookfund when receiving
- C4/Maintainance.pm
  Module containing functions used in catalogue maintenance
- C4/Search.pm
  Tidying up error handling, slight modification to title search
- C4/Stats.pm
  Changed updatestats routine so it stores itemnumbers and itemtypes
- C4/Circulation/Issues.pm
  Updated call to update stats so itemtype and itemnumber are passed
- C4/Circulation/Main.pm
  Fixing glitch in checkreserve function which meant some reserves werent
  marked as being filled
- C4/Circulation/Returns.pm
  Updated call to update stats so itemnumber is passed
- C4/Circulation/Renewals.pm
  Updated call to update stats so itemnumber is passed
- C4/Circulation/Renewals2.pm
  Updated call to update stats so itemnumber is passed
- acqui/acquire.pl
  Fixed so bookfunds can be changed
- acqui/addorder.pl
  Modify order working better
- acqui/finishreceive.pl
  Setting quantity ordered to 0 cancels order now
- acqui/newbiblio.pl
  Fixed so estimated prices show correctly
  And recommended retail price shows if known

- index.html (intranet) added link to catalogue maintenance section

#Version 1.06
Seperate forms for adding institutions or children as members/patrons.
Additional authors being search as part of Author search
Optimised catalogue searches.
Fixed deleting orders bug in acquisitions
Got book title showing up on reserve charge

#Version 1.05
Fixing reserves/requests, so that only items in the group requested (not
whole biblio) trigger the reserves flag.
Fixed bad behaviour in subject search.
Got Dewey decimal search going
Got receript summary screen in acquisitions working better
Fixing more spelling mistakes

#Version 1.04
Tidying up tarball, fixing some spelling mistakes

#Version 1.03
Some fairly major changes
All books waiting for a borrower are now showing on their card in the telnet
screen.
Reference books never being able to the public
Reworked searches, allowing class search to combine with the title, author
and keyword searchs
Added an exact title search

# Version 1.02
Fixed a glitch in reserves/requests ... no longer showing filled reserves
Fixed a glitch in ordering to with # in titles

# Version 1.01
Fixed bug in reserves deletion
Fixed bug with " in biblio
Fixed bug in displaying multiple copies of the same order (when receiving
acquisitions)
Fixed bug in Subject search that was duplicating some titles
